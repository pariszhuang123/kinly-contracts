{"swagger":"2.0","info":{"description":"","title":"standard public schema","version":"13.0.5"},"host":"0.0.0.0:3000","basePath":"/","schemes":["http"],"consumes":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json","text/csv"],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json","text/csv"],"paths":{"/":{"get":{"produces":["application/openapi+json","application/json"],"responses":{"200":{"description":"OK"}},"summary":"OpenAPI description (this document)","tags":["Introspection"]}},"/notification_sends":{"get":{"parameters":[{"$ref":"#/parameters/rowFilter.notification_sends.id"},{"$ref":"#/parameters/rowFilter.notification_sends.user_id"},{"$ref":"#/parameters/rowFilter.notification_sends.local_date"},{"$ref":"#/parameters/rowFilter.notification_sends.job_run_id"},{"$ref":"#/parameters/rowFilter.notification_sends.status"},{"$ref":"#/parameters/rowFilter.notification_sends.error"},{"$ref":"#/parameters/rowFilter.notification_sends.reserved_at"},{"$ref":"#/parameters/rowFilter.notification_sends.sent_at"},{"$ref":"#/parameters/rowFilter.notification_sends.failed_at"},{"$ref":"#/parameters/rowFilter.notification_sends.created_at"},{"$ref":"#/parameters/rowFilter.notification_sends.updated_at"},{"$ref":"#/parameters/rowFilter.notification_sends.token_id"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/order"},{"$ref":"#/parameters/range"},{"$ref":"#/parameters/rangeUnit"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/preferCount"}],"responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/notification_sends"},"type":"array"}},"206":{"description":"Partial Content"}},"tags":["notification_sends"]},"post":{"parameters":[{"$ref":"#/parameters/body.notification_sends"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/preferPost"}],"responses":{"201":{"description":"Created"}},"tags":["notification_sends"]},"delete":{"parameters":[{"$ref":"#/parameters/rowFilter.notification_sends.id"},{"$ref":"#/parameters/rowFilter.notification_sends.user_id"},{"$ref":"#/parameters/rowFilter.notification_sends.local_date"},{"$ref":"#/parameters/rowFilter.notification_sends.job_run_id"},{"$ref":"#/parameters/rowFilter.notification_sends.status"},{"$ref":"#/parameters/rowFilter.notification_sends.error"},{"$ref":"#/parameters/rowFilter.notification_sends.reserved_at"},{"$ref":"#/parameters/rowFilter.notification_sends.sent_at"},{"$ref":"#/parameters/rowFilter.notification_sends.failed_at"},{"$ref":"#/parameters/rowFilter.notification_sends.created_at"},{"$ref":"#/parameters/rowFilter.notification_sends.updated_at"},{"$ref":"#/parameters/rowFilter.notification_sends.token_id"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"tags":["notification_sends"]},"patch":{"parameters":[{"$ref":"#/parameters/rowFilter.notification_sends.id"},{"$ref":"#/parameters/rowFilter.notification_sends.user_id"},{"$ref":"#/parameters/rowFilter.notification_sends.local_date"},{"$ref":"#/parameters/rowFilter.notification_sends.job_run_id"},{"$ref":"#/parameters/rowFilter.notification_sends.status"},{"$ref":"#/parameters/rowFilter.notification_sends.error"},{"$ref":"#/parameters/rowFilter.notification_sends.reserved_at"},{"$ref":"#/parameters/rowFilter.notification_sends.sent_at"},{"$ref":"#/parameters/rowFilter.notification_sends.failed_at"},{"$ref":"#/parameters/rowFilter.notification_sends.created_at"},{"$ref":"#/parameters/rowFilter.notification_sends.updated_at"},{"$ref":"#/parameters/rowFilter.notification_sends.token_id"},{"$ref":"#/parameters/body.notification_sends"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"tags":["notification_sends"]}},"/share_events":{"get":{"parameters":[{"$ref":"#/parameters/rowFilter.share_events.id"},{"$ref":"#/parameters/rowFilter.share_events.created_at"},{"$ref":"#/parameters/rowFilter.share_events.user_id"},{"$ref":"#/parameters/rowFilter.share_events.home_id"},{"$ref":"#/parameters/rowFilter.share_events.feature"},{"$ref":"#/parameters/rowFilter.share_events.channel"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/order"},{"$ref":"#/parameters/range"},{"$ref":"#/parameters/rangeUnit"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/preferCount"}],"responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/share_events"},"type":"array"}},"206":{"description":"Partial Content"}},"summary":"Internal analytics for tracking share attempts (per user, home, feature, channel).","tags":["share_events"]},"post":{"parameters":[{"$ref":"#/parameters/body.share_events"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/preferPost"}],"responses":{"201":{"description":"Created"}},"summary":"Internal analytics for tracking share attempts (per user, home, feature, channel).","tags":["share_events"]},"delete":{"parameters":[{"$ref":"#/parameters/rowFilter.share_events.id"},{"$ref":"#/parameters/rowFilter.share_events.created_at"},{"$ref":"#/parameters/rowFilter.share_events.user_id"},{"$ref":"#/parameters/rowFilter.share_events.home_id"},{"$ref":"#/parameters/rowFilter.share_events.feature"},{"$ref":"#/parameters/rowFilter.share_events.channel"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"summary":"Internal analytics for tracking share attempts (per user, home, feature, channel).","tags":["share_events"]},"patch":{"parameters":[{"$ref":"#/parameters/rowFilter.share_events.id"},{"$ref":"#/parameters/rowFilter.share_events.created_at"},{"$ref":"#/parameters/rowFilter.share_events.user_id"},{"$ref":"#/parameters/rowFilter.share_events.home_id"},{"$ref":"#/parameters/rowFilter.share_events.feature"},{"$ref":"#/parameters/rowFilter.share_events.channel"},{"$ref":"#/parameters/body.share_events"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"summary":"Internal analytics for tracking share attempts (per user, home, feature, channel).","tags":["share_events"]}},"/profiles":{"get":{"parameters":[{"$ref":"#/parameters/rowFilter.profiles.id"},{"$ref":"#/parameters/rowFilter.profiles.email"},{"$ref":"#/parameters/rowFilter.profiles.full_name"},{"$ref":"#/parameters/rowFilter.profiles.avatar_id"},{"$ref":"#/parameters/rowFilter.profiles.created_at"},{"$ref":"#/parameters/rowFilter.profiles.deactivated_at"},{"$ref":"#/parameters/rowFilter.profiles.username"},{"$ref":"#/parameters/rowFilter.profiles.updated_at"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/order"},{"$ref":"#/parameters/range"},{"$ref":"#/parameters/rangeUnit"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/preferCount"}],"responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/profiles"},"type":"array"}},"206":{"description":"Partial Content"}},"summary":"App-facing persona mirroring auth.users by id (1:1).","tags":["profiles"]},"post":{"parameters":[{"$ref":"#/parameters/body.profiles"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/preferPost"}],"responses":{"201":{"description":"Created"}},"summary":"App-facing persona mirroring auth.users by id (1:1).","tags":["profiles"]},"delete":{"parameters":[{"$ref":"#/parameters/rowFilter.profiles.id"},{"$ref":"#/parameters/rowFilter.profiles.email"},{"$ref":"#/parameters/rowFilter.profiles.full_name"},{"$ref":"#/parameters/rowFilter.profiles.avatar_id"},{"$ref":"#/parameters/rowFilter.profiles.created_at"},{"$ref":"#/parameters/rowFilter.profiles.deactivated_at"},{"$ref":"#/parameters/rowFilter.profiles.username"},{"$ref":"#/parameters/rowFilter.profiles.updated_at"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"summary":"App-facing persona mirroring auth.users by id (1:1).","tags":["profiles"]},"patch":{"parameters":[{"$ref":"#/parameters/rowFilter.profiles.id"},{"$ref":"#/parameters/rowFilter.profiles.email"},{"$ref":"#/parameters/rowFilter.profiles.full_name"},{"$ref":"#/parameters/rowFilter.profiles.avatar_id"},{"$ref":"#/parameters/rowFilter.profiles.created_at"},{"$ref":"#/parameters/rowFilter.profiles.deactivated_at"},{"$ref":"#/parameters/rowFilter.profiles.username"},{"$ref":"#/parameters/rowFilter.profiles.updated_at"},{"$ref":"#/parameters/body.profiles"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"summary":"App-facing persona mirroring auth.users by id (1:1).","tags":["profiles"]}},"/preference_taxonomy_active_defs":{"get":{"parameters":[{"$ref":"#/parameters/rowFilter.preference_taxonomy_active_defs.preference_id"},{"$ref":"#/parameters/rowFilter.preference_taxonomy_active_defs.domain"},{"$ref":"#/parameters/rowFilter.preference_taxonomy_active_defs.label"},{"$ref":"#/parameters/rowFilter.preference_taxonomy_active_defs.description"},{"$ref":"#/parameters/rowFilter.preference_taxonomy_active_defs.value_keys"},{"$ref":"#/parameters/rowFilter.preference_taxonomy_active_defs.aggregation"},{"$ref":"#/parameters/rowFilter.preference_taxonomy_active_defs.safety_notes"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/order"},{"$ref":"#/parameters/range"},{"$ref":"#/parameters/rangeUnit"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/preferCount"}],"responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/preference_taxonomy_active_defs"},"type":"array"}},"206":{"description":"Partial Content"}},"tags":["preference_taxonomy_active_defs"]}},"/notification_preferences":{"get":{"parameters":[{"$ref":"#/parameters/rowFilter.notification_preferences.user_id"},{"$ref":"#/parameters/rowFilter.notification_preferences.wants_daily"},{"$ref":"#/parameters/rowFilter.notification_preferences.preferred_hour"},{"$ref":"#/parameters/rowFilter.notification_preferences.timezone"},{"$ref":"#/parameters/rowFilter.notification_preferences.locale"},{"$ref":"#/parameters/rowFilter.notification_preferences.os_permission"},{"$ref":"#/parameters/rowFilter.notification_preferences.last_os_sync_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.last_sent_local_date"},{"$ref":"#/parameters/rowFilter.notification_preferences.created_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.updated_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.preferred_minute"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/order"},{"$ref":"#/parameters/range"},{"$ref":"#/parameters/rangeUnit"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/preferCount"}],"responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/notification_preferences"},"type":"array"}},"206":{"description":"Partial Content"}},"tags":["notification_preferences"]},"post":{"parameters":[{"$ref":"#/parameters/body.notification_preferences"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/preferPost"}],"responses":{"201":{"description":"Created"}},"tags":["notification_preferences"]},"delete":{"parameters":[{"$ref":"#/parameters/rowFilter.notification_preferences.user_id"},{"$ref":"#/parameters/rowFilter.notification_preferences.wants_daily"},{"$ref":"#/parameters/rowFilter.notification_preferences.preferred_hour"},{"$ref":"#/parameters/rowFilter.notification_preferences.timezone"},{"$ref":"#/parameters/rowFilter.notification_preferences.locale"},{"$ref":"#/parameters/rowFilter.notification_preferences.os_permission"},{"$ref":"#/parameters/rowFilter.notification_preferences.last_os_sync_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.last_sent_local_date"},{"$ref":"#/parameters/rowFilter.notification_preferences.created_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.updated_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.preferred_minute"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"tags":["notification_preferences"]},"patch":{"parameters":[{"$ref":"#/parameters/rowFilter.notification_preferences.user_id"},{"$ref":"#/parameters/rowFilter.notification_preferences.wants_daily"},{"$ref":"#/parameters/rowFilter.notification_preferences.preferred_hour"},{"$ref":"#/parameters/rowFilter.notification_preferences.timezone"},{"$ref":"#/parameters/rowFilter.notification_preferences.locale"},{"$ref":"#/parameters/rowFilter.notification_preferences.os_permission"},{"$ref":"#/parameters/rowFilter.notification_preferences.last_os_sync_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.last_sent_local_date"},{"$ref":"#/parameters/rowFilter.notification_preferences.created_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.updated_at"},{"$ref":"#/parameters/rowFilter.notification_preferences.preferred_minute"},{"$ref":"#/parameters/body.notification_preferences"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"tags":["notification_preferences"]}},"/avatars":{"get":{"parameters":[{"$ref":"#/parameters/rowFilter.avatars.id"},{"$ref":"#/parameters/rowFilter.avatars.storage_path"},{"$ref":"#/parameters/rowFilter.avatars.category"},{"$ref":"#/parameters/rowFilter.avatars.created_at"},{"$ref":"#/parameters/rowFilter.avatars.name"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/order"},{"$ref":"#/parameters/range"},{"$ref":"#/parameters/rangeUnit"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/preferCount"}],"responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/avatars"},"type":"array"}},"206":{"description":"Partial Content"}},"summary":"Avatars: image metadata for user profile pictures.","tags":["avatars"]},"post":{"parameters":[{"$ref":"#/parameters/body.avatars"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/preferPost"}],"responses":{"201":{"description":"Created"}},"summary":"Avatars: image metadata for user profile pictures.","tags":["avatars"]},"delete":{"parameters":[{"$ref":"#/parameters/rowFilter.avatars.id"},{"$ref":"#/parameters/rowFilter.avatars.storage_path"},{"$ref":"#/parameters/rowFilter.avatars.category"},{"$ref":"#/parameters/rowFilter.avatars.created_at"},{"$ref":"#/parameters/rowFilter.avatars.name"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"summary":"Avatars: image metadata for user profile pictures.","tags":["avatars"]},"patch":{"parameters":[{"$ref":"#/parameters/rowFilter.avatars.id"},{"$ref":"#/parameters/rowFilter.avatars.storage_path"},{"$ref":"#/parameters/rowFilter.avatars.category"},{"$ref":"#/parameters/rowFilter.avatars.created_at"},{"$ref":"#/parameters/rowFilter.avatars.name"},{"$ref":"#/parameters/body.avatars"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"summary":"Avatars: image metadata for user profile pictures.","tags":["avatars"]}},"/device_tokens":{"get":{"parameters":[{"$ref":"#/parameters/rowFilter.device_tokens.id"},{"$ref":"#/parameters/rowFilter.device_tokens.user_id"},{"$ref":"#/parameters/rowFilter.device_tokens.token"},{"$ref":"#/parameters/rowFilter.device_tokens.provider"},{"$ref":"#/parameters/rowFilter.device_tokens.platform"},{"$ref":"#/parameters/rowFilter.device_tokens.status"},{"$ref":"#/parameters/rowFilter.device_tokens.last_seen_at"},{"$ref":"#/parameters/rowFilter.device_tokens.created_at"},{"$ref":"#/parameters/rowFilter.device_tokens.updated_at"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/order"},{"$ref":"#/parameters/range"},{"$ref":"#/parameters/rangeUnit"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/preferCount"}],"responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/device_tokens"},"type":"array"}},"206":{"description":"Partial Content"}},"tags":["device_tokens"]},"post":{"parameters":[{"$ref":"#/parameters/body.device_tokens"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/preferPost"}],"responses":{"201":{"description":"Created"}},"tags":["device_tokens"]},"delete":{"parameters":[{"$ref":"#/parameters/rowFilter.device_tokens.id"},{"$ref":"#/parameters/rowFilter.device_tokens.user_id"},{"$ref":"#/parameters/rowFilter.device_tokens.token"},{"$ref":"#/parameters/rowFilter.device_tokens.provider"},{"$ref":"#/parameters/rowFilter.device_tokens.platform"},{"$ref":"#/parameters/rowFilter.device_tokens.status"},{"$ref":"#/parameters/rowFilter.device_tokens.last_seen_at"},{"$ref":"#/parameters/rowFilter.device_tokens.created_at"},{"$ref":"#/parameters/rowFilter.device_tokens.updated_at"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"tags":["device_tokens"]},"patch":{"parameters":[{"$ref":"#/parameters/rowFilter.device_tokens.id"},{"$ref":"#/parameters/rowFilter.device_tokens.user_id"},{"$ref":"#/parameters/rowFilter.device_tokens.token"},{"$ref":"#/parameters/rowFilter.device_tokens.provider"},{"$ref":"#/parameters/rowFilter.device_tokens.platform"},{"$ref":"#/parameters/rowFilter.device_tokens.status"},{"$ref":"#/parameters/rowFilter.device_tokens.last_seen_at"},{"$ref":"#/parameters/rowFilter.device_tokens.created_at"},{"$ref":"#/parameters/rowFilter.device_tokens.updated_at"},{"$ref":"#/parameters/body.device_tokens"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"tags":["device_tokens"]}},"/revenuecat_event_processing":{"get":{"parameters":[{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.environment"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.idempotency_key"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.status"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.attempts"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.last_error"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.updated_at"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.created_at"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/order"},{"$ref":"#/parameters/range"},{"$ref":"#/parameters/rangeUnit"},{"$ref":"#/parameters/offset"},{"$ref":"#/parameters/limit"},{"$ref":"#/parameters/preferCount"}],"responses":{"200":{"description":"OK","schema":{"items":{"$ref":"#/definitions/revenuecat_event_processing"},"type":"array"}},"206":{"description":"Partial Content"}},"tags":["revenuecat_event_processing"]},"post":{"parameters":[{"$ref":"#/parameters/body.revenuecat_event_processing"},{"$ref":"#/parameters/select"},{"$ref":"#/parameters/preferPost"}],"responses":{"201":{"description":"Created"}},"tags":["revenuecat_event_processing"]},"delete":{"parameters":[{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.environment"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.idempotency_key"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.status"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.attempts"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.last_error"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.updated_at"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.created_at"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"tags":["revenuecat_event_processing"]},"patch":{"parameters":[{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.environment"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.idempotency_key"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.status"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.attempts"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.last_error"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.updated_at"},{"$ref":"#/parameters/rowFilter.revenuecat_event_processing.created_at"},{"$ref":"#/parameters/body.revenuecat_event_processing"},{"$ref":"#/parameters/preferReturn"}],"responses":{"204":{"description":"No Content"}},"tags":["revenuecat_event_processing"]}},"/rpc/membership_me_current":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) membership_me_current"]}},"/rpc/_iso_week_utc":{"get":{"parameters":[{"format":"timestamp with time zone","in":"query","name":"p_at","required":false,"type":"string"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _iso_week_utc"]},"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_at":{"format":"timestamp with time zone","type":"string"}},"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _iso_week_utc"]}},"/rpc/profile_me":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) profile_me"]}},"/rpc/check_app_version":{"get":{"parameters":[{"format":"text","in":"query","name":"client_version","required":true,"type":"string"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) check_app_version"]},"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"client_version":{"format":"text","type":"string"}},"required":["client_version"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) check_app_version"]}},"/rpc/members_list_active_by_home":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_exclude_self":{"format":"boolean","type":"boolean"},"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) members_list_active_by_home"]}},"/rpc/leads_upsert_v1":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_country_code":{"format":"text","type":"string"},"p_email":{"format":"text","type":"string"},"p_source":{"format":"text","type":"string"},"p_ui_locale":{"format":"text","type":"string"}},"required":["p_email","p_country_code","p_ui_locale"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) leads_upsert_v1"]}},"/rpc/expense_plans_generate_due_cycles":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) expense_plans_generate_due_cycles"]}},"/rpc/_chore_recurrence_to_every_unit":{"get":{"parameters":[{"format":"recurrence_interval","in":"query","name":"p_recurrence","required":true,"type":"string"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _chore_recurrence_to_every_unit"]},"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_recurrence":{"format":"recurrence_interval","type":"string"}},"required":["p_recurrence"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _chore_recurrence_to_every_unit"]}},"/rpc/house_pulse_mark_seen":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_contract_version":{"format":"text","type":"string"},"p_home_id":{"format":"uuid","type":"string"},"p_iso_week":{"format":"integer","type":"integer"},"p_iso_week_year":{"format":"integer","type":"integer"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) house_pulse_mark_seen"]}},"/rpc/notifications_reserve_send":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_job_run_id":{"format":"text","type":"string"},"p_local_date":{"format":"date","type":"string"},"p_token_id":{"format":"uuid","type":"string"},"p_user_id":{"format":"uuid","type":"string"}},"required":["p_user_id","p_token_id","p_local_date","p_job_run_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) notifications_reserve_send"]}},"/rpc/today_onboarding_hints":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) today_onboarding_hints"]}},"/rpc/notifications_daily_candidates":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"description":"Paged list of users + tokens eligible for the daily notification window.","properties":{"p_limit":{"format":"integer","type":"integer"},"p_offset":{"format":"integer","type":"integer"}},"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"summary":"Paged list of users + tokens eligible for the daily notification window.","tags":["(rpc) notifications_daily_candidates"]}},"/rpc/invites_get_active":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) invites_get_active"]}},"/rpc/members_kick":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"},"p_target_user_id":{"format":"uuid","type":"string"}},"required":["p_home_id","p_target_user_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) members_kick"]}},"/rpc/notifications_update_send_status":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_error":{"format":"text","type":"string"},"p_send_id":{"format":"uuid","type":"string"},"p_status":{"format":"text","type":"string"}},"required":["p_send_id","p_status","p_error"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) notifications_update_send_status"]}},"/rpc/invites_rotate":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) invites_rotate"]}},"/rpc/notifications_mark_token_status":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_status":{"format":"text","type":"string"},"p_token_id":{"format":"uuid","type":"string"}},"required":["p_token_id","p_status"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) notifications_mark_token_status"]}},"/rpc/paywall_log_event":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"description":"Auth-only helper to log paywall funnel events for a home.","properties":{"p_event_type":{"format":"text","type":"string"},"p_home_id":{"format":"uuid","type":"string"},"p_source":{"format":"text","type":"string"}},"required":["p_home_id","p_event_type"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"summary":"Auth-only helper to log paywall funnel events for a home.","tags":["(rpc) paywall_log_event"]}},"/rpc/notifications_update_preferences":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_preferred_hour":{"format":"integer","type":"integer"},"p_preferred_minute":{"format":"integer","type":"integer"},"p_wants_daily":{"format":"boolean","type":"boolean"}},"required":["p_wants_daily","p_preferred_hour","p_preferred_minute"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) notifications_update_preferences"]}},"/rpc/_ensure_unique_avatar_for_home":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"},"p_user_id":{"format":"uuid","type":"string"}},"required":["p_home_id","p_user_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _ensure_unique_avatar_for_home"]}},"/rpc/invites_revoke":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) invites_revoke"]}},"/rpc/_share_log_event_internal":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"description":"Internal helper for writing share attempts; callers must handle auth/membership.","properties":{"p_channel":{"format":"text","type":"string"},"p_feature":{"format":"text","type":"string"},"p_home_id":{"format":"uuid","type":"string"},"p_user_id":{"format":"uuid","type":"string"}},"required":["p_user_id","p_home_id","p_feature","p_channel"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"summary":"Internal helper for writing share attempts; callers must handle auth/membership.","tags":["(rpc) _share_log_event_internal"]}},"/rpc/avatars_list_for_home":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) avatars_list_for_home"]}},"/rpc/api_assert":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_code":{"format":"text","type":"string"},"p_condition":{"format":"boolean","type":"boolean"},"p_details":{"format":"jsonb"},"p_hint":{"format":"text","type":"string"},"p_msg":{"format":"text","type":"string"},"p_sqlstate":{"format":"text","type":"string"}},"required":["p_condition","p_code","p_msg"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) api_assert"]}},"/rpc/locale_base":{"get":{"parameters":[{"format":"text","in":"query","name":"p_locale","required":true,"type":"string"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) locale_base"]},"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_locale":{"format":"text","type":"string"}},"required":["p_locale"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) locale_base"]}},"/rpc/notifications_sync_client_state":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_locale":{"format":"text","type":"string"},"p_os_permission":{"format":"text","type":"string"},"p_platform":{"format":"text","type":"string"},"p_preferred_hour":{"format":"integer","type":"integer"},"p_preferred_minute":{"format":"integer","type":"integer"},"p_timezone":{"format":"text","type":"string"},"p_token":{"format":"text","type":"string"},"p_wants_daily":{"format":"boolean","type":"boolean"}},"required":["p_token","p_platform","p_locale","p_timezone","p_os_permission"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) notifications_sync_client_state"]}},"/rpc/house_pulse_label_get_v1":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_contract_version":{"format":"text","type":"string"},"p_pulse_state":{"format":"house_pulse_state","type":"string"}},"required":["p_pulse_state"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) house_pulse_label_get_v1"]}},"/rpc/_house_vibe_confidence_kind":{"get":{"parameters":[{"format":"text","in":"query","name":"p_label_id","required":true,"type":"string"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _house_vibe_confidence_kind"]},"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_label_id":{"format":"text","type":"string"}},"required":["p_label_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _house_vibe_confidence_kind"]}},"/rpc/_home_effective_plan":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _home_effective_plan"]}},"/rpc/gratitude_wall_status":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"description":"Returns whether the current user has unread gratitude wall posts for the given home, and the last_read_at timestamp.","properties":{"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"summary":"Returns whether the current user has unread gratitude wall posts for the given home, and the last_read_at timestamp.","tags":["(rpc) gratitude_wall_status"]}},"/rpc/_expense_plan_next_cycle_date_v2":{"get":{"parameters":[{"format":"integer","in":"query","name":"p_every","required":true,"type":"integer"},{"format":"text","in":"query","name":"p_unit","required":true,"type":"string"},{"format":"date","in":"query","name":"p_from","required":true,"type":"string"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _expense_plan_next_cycle_date_v2"]},"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_every":{"format":"integer","type":"integer"},"p_from":{"format":"date","type":"string"},"p_unit":{"format":"text","type":"string"}},"required":["p_every","p_unit","p_from"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _expense_plan_next_cycle_date_v2"]}},"/rpc/_gen_unique_username":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_email":{"format":"text","type":"string"},"p_id":{"format":"uuid","type":"string"}},"required":["p_email","p_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _gen_unique_username"]}},"/rpc/today_has_content":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"description":"Returns true when any Today content exists for the user (Flow, expenses owed/created, gratitude unread).","properties":{"p_local_date":{"format":"date","type":"string"},"p_timezone":{"format":"text","type":"string"},"p_user_id":{"format":"uuid","type":"string"}},"required":["p_user_id","p_timezone","p_local_date"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"summary":"Returns true when any Today content exists for the user (Flow, expenses owed/created, gratitude unread).","tags":["(rpc) today_has_content"]}},"/rpc/paywall_record_subscription":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"description":"Idempotent service-role helper invoked by RevenueCat webhook. Safe for retries via revenuecat_event_processing. Returns deduped boolean.","properties":{"p_current_period_end_at":{"format":"timestamp with time zone","type":"string"},"p_entitlement_id":{"format":"text","type":"string"},"p_entitlement_ids":{"format":"text[]","items":{"type":"string"},"type":"array"},"p_environment":{"format":"text","type":"string"},"p_event_timestamp":{"format":"timestamp with time zone","type":"string"},"p_home_id":{"format":"uuid","type":"string"},"p_idempotency_key":{"format":"text","type":"string"},"p_last_purchase_at":{"format":"timestamp with time zone","type":"string"},"p_latest_transaction_id":{"format":"text","type":"string"},"p_original_purchase_at":{"format":"timestamp with time zone","type":"string"},"p_original_transaction_id":{"format":"text","type":"string"},"p_product_id":{"format":"text","type":"string"},"p_raw_event":{"format":"jsonb"},"p_rc_app_user_id":{"format":"text","type":"string"},"p_rc_event_id":{"format":"text","type":"string"},"p_status":{"format":"subscription_status","type":"string"},"p_store":{"format":"subscription_store","type":"string"},"p_user_id":{"format":"uuid","type":"string"},"p_warnings":{"format":"text[]","items":{"type":"string"},"type":"array"}},"required":["p_idempotency_key","p_user_id","p_home_id","p_store","p_rc_app_user_id","p_entitlement_id","p_product_id","p_status","p_current_period_end_at","p_original_purchase_at","p_last_purchase_at","p_latest_transaction_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"summary":"Idempotent service-role helper invoked by RevenueCat webhook. Safe for retries via revenuecat_event_processing. Returns deduped boolean.","tags":["(rpc) paywall_record_subscription"]}},"/rpc/notifications_mark_send_success":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_local_date":{"format":"date","type":"string"},"p_send_id":{"format":"uuid","type":"string"},"p_user_id":{"format":"uuid","type":"string"}},"required":["p_send_id","p_user_id","p_local_date"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) notifications_mark_send_success"]}},"/rpc/homes_transfer_owner":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"},"p_new_owner_id":{"format":"uuid","type":"string"}},"required":["p_home_id","p_new_owner_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) homes_transfer_owner"]}},"/rpc/leads_rate_limits_cleanup":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) leads_rate_limits_cleanup"]}},"/rpc/_expense_plan_next_cycle_date":{"get":{"parameters":[{"format":"recurrence_interval","in":"query","name":"p_interval","required":true,"type":"string"},{"format":"date","in":"query","name":"p_from","required":true,"type":"string"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _expense_plan_next_cycle_date"]},"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_from":{"format":"date","type":"string"},"p_interval":{"format":"recurrence_interval","type":"string"}},"required":["p_interval","p_from"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _expense_plan_next_cycle_date"]}},"/rpc/api_error":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_code":{"format":"text","type":"string"},"p_details":{"format":"jsonb"},"p_hint":{"format":"text","type":"string"},"p_msg":{"format":"text","type":"string"},"p_sqlstate":{"format":"text","type":"string"}},"required":["p_code","p_msg"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) api_error"]}},"/rpc/_sha256_hex":{"get":{"parameters":[{"format":"text","in":"query","name":"p_input","required":true,"type":"string"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _sha256_hex"]},"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_input":{"format":"text","type":"string"}},"required":["p_input"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _sha256_hex"]}},"/rpc/profile_identity_update":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_avatar_id":{"format":"uuid","type":"string"},"p_username":{"format":"citext","type":"string"}},"required":["p_username","p_avatar_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) profile_identity_update"]}},"/rpc/_assert_active_profile":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _assert_active_profile"]}},"/rpc/house_pulse_compute_week":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_contract_version":{"format":"text","type":"string"},"p_home_id":{"format":"uuid","type":"string"},"p_iso_week":{"format":"integer","type":"integer"},"p_iso_week_year":{"format":"integer","type":"integer"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) house_pulse_compute_week"]}},"/rpc/_assert_home_active":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) _assert_home_active"]}},"/rpc/house_pulse_weekly_get":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"properties":{"p_contract_version":{"format":"text","type":"string"},"p_home_id":{"format":"uuid","type":"string"},"p_iso_week":{"format":"integer","type":"integer"},"p_iso_week_year":{"format":"integer","type":"integer"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"tags":["(rpc) house_pulse_weekly_get"]}},"/rpc/gratitude_wall_stats":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"description":"Returns total, unread count, and last_read_at for the current user's gratitude wall in the given home.","properties":{"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"summary":"Returns total, unread count, and last_read_at for the current user's gratitude wall in the given home.","tags":["(rpc) gratitude_wall_stats"]}},"/rpc/share_log_event":{"post":{"parameters":[{"in":"body","name":"args","required":true,"schema":{"description":"Records a share attempt for the current user with feature and channel.","properties":{"p_channel":{"format":"text","type":"string"},"p_feature":{"format":"text","type":"string"},"p_home_id":{"format":"uuid","type":"string"}},"required":["p_home_id","p_feature","p_channel"],"type":"object"}},{"$ref":"#/parameters/preferParams"}],"produces":["application/json","application/vnd.pgrst.object+json;nulls=stripped","application/vnd.pgrst.object+json"],"responses":{"200":{"description":"OK"}},"summary":"Records a share attempt for the current user with feature and channel.","tags":["(rpc) share_log_event"]}}},"definitions":{"notification_sends":{"required":["id","user_id","local_date","status","created_at","updated_at"],"properties":{"id":{"default":"gen_random_uuid()","description":"Note:\nThis is a Primary Key.<pk/>","format":"uuid","type":"string"},"user_id":{"description":"Note:\nThis is a Foreign Key to `profiles.id`.<fk table='profiles' column='id'/>","format":"uuid","type":"string"},"local_date":{"format":"date","type":"string"},"job_run_id":{"format":"text","type":"string"},"status":{"description":"Notification send state: reserved | sent | failed","format":"text","type":"string"},"error":{"format":"text","type":"string"},"reserved_at":{"format":"timestamp with time zone","type":"string"},"sent_at":{"format":"timestamp with time zone","type":"string"},"failed_at":{"format":"timestamp with time zone","type":"string"},"created_at":{"default":"now()","format":"timestamp with time zone","type":"string"},"updated_at":{"default":"now()","format":"timestamp with time zone","type":"string"},"token_id":{"description":"Note:\nThis is a Foreign Key to `device_tokens.id`.<fk table='device_tokens' column='id'/>","format":"uuid","type":"string"}},"type":"object"},"share_events":{"description":"Internal analytics for tracking share attempts (per user, home, feature, channel).","required":["id","created_at","user_id","feature","channel"],"properties":{"id":{"default":"gen_random_uuid()","description":"Note:\nThis is a Primary Key.<pk/>","format":"uuid","type":"string"},"created_at":{"default":"now()","format":"timestamp with time zone","type":"string"},"user_id":{"description":"Note:\nThis is a Foreign Key to `profiles.id`.<fk table='profiles' column='id'/>","format":"uuid","type":"string"},"home_id":{"description":"Note:\nThis is a Foreign Key to `homes.id`.<fk table='homes' column='id'/>","format":"uuid","type":"string"},"feature":{"format":"text","type":"string"},"channel":{"format":"text","type":"string"}},"type":"object"},"profiles":{"description":"App-facing persona mirroring auth.users by id (1:1).","required":["id","avatar_id","created_at","username","updated_at"],"properties":{"id":{"description":"Primary key = auth.users.id..\n\nNote:\nThis is a Primary Key.<pk/>","format":"uuid","type":"string"},"email":{"description":"Optional user email address mirrored from auth.users.email. May be NULL for privacy or deleted accounts. Remains UNIQUE when present.","format":"text","type":"string"},"full_name":{"description":"Optional display name.","format":"text","type":"string"},"avatar_id":{"description":"FK to public.avatars.id (required avatar).\n\nNote:\nThis is a Foreign Key to `avatars.id`.<fk table='avatars' column='id'/>","format":"uuid","type":"string"},"created_at":{"default":"now()","description":"Profile creation timestamp (UTC).","format":"timestamp with time zone","type":"string"},"deactivated_at":{"description":"Timestamp when the user deactivated or left the app. NULL = currently active. Used for soft-deletion and retention tracking.","format":"timestamp with time zone","type":"string"},"username":{"description":"Case-insensitive unique handle for user identification and @mentions. Must be 330 chars long, start/end with a letter or number, and may contain dots or underscores in between. Used for tagging (e.g., @username) and public display names.","format":"public.citext","type":"string"},"updated_at":{"default":"now()","description":"Profile updated timestamp (UTC).","format":"timestamp with time zone","type":"string"}},"type":"object"},"preference_taxonomy_active_defs":{"properties":{"preference_id":{"description":"Note:\nThis is a Primary Key.<pk/>","format":"text","type":"string"},"domain":{"format":"text","type":"string"},"label":{"format":"text","type":"string"},"description":{"format":"text","type":"string"},"value_keys":{"format":"text[]","items":{"type":"string"},"type":"array"},"aggregation":{"format":"text","type":"string"},"safety_notes":{"format":"text[]","items":{"type":"string"},"type":"array"}},"type":"object"},"notification_preferences":{"required":["user_id","wants_daily","preferred_hour","timezone","locale","os_permission","created_at","updated_at","preferred_minute"],"properties":{"user_id":{"description":"Note:\nThis is a Primary Key.<pk/>\nThis is a Foreign Key to `profiles.id`.<fk table='profiles' column='id'/>","format":"uuid","type":"string"},"wants_daily":{"default":false,"format":"boolean","type":"boolean"},"preferred_hour":{"default":9,"format":"integer","type":"integer"},"timezone":{"format":"text","type":"string"},"locale":{"format":"text","type":"string"},"os_permission":{"default":"unknown","format":"text","type":"string"},"last_os_sync_at":{"format":"timestamp with time zone","type":"string"},"last_sent_local_date":{"format":"date","type":"string"},"created_at":{"default":"now()","format":"timestamp with time zone","type":"string"},"updated_at":{"default":"now()","format":"timestamp with time zone","type":"string"},"preferred_minute":{"default":0,"format":"integer","type":"integer"}},"type":"object"},"avatars":{"description":"Avatars: image metadata for user profile pictures.","required":["id","storage_path","category","created_at","name"],"properties":{"id":{"default":"gen_random_uuid()","description":"Note:\nThis is a Primary Key.<pk/>","format":"uuid","type":"string"},"storage_path":{"description":"Storage bucket/path or object key.","format":"text","type":"string"},"category":{"description":"Logical grouping, e.g., \"animal\" (starter pack), \"plant\", etc.","format":"text","type":"string"},"created_at":{"default":"now()","description":"Creation timestamp (UTC).","format":"timestamp with time zone","type":"string"},"name":{"default":"Unnamed Avatar","description":"Human-readable name describing what this avatar is about.","format":"text","type":"string"}},"type":"object"},"device_tokens":{"required":["id","user_id","token","provider","status","last_seen_at","created_at","updated_at"],"properties":{"id":{"default":"gen_random_uuid()","description":"Note:\nThis is a Primary Key.<pk/>","format":"uuid","type":"string"},"user_id":{"description":"Note:\nThis is a Foreign Key to `profiles.id`.<fk table='profiles' column='id'/>","format":"uuid","type":"string"},"token":{"format":"text","type":"string"},"provider":{"default":"fcm","format":"text","type":"string"},"platform":{"format":"text","type":"string"},"status":{"default":"active","format":"text","type":"string"},"last_seen_at":{"default":"now()","format":"timestamp with time zone","type":"string"},"created_at":{"default":"now()","format":"timestamp with time zone","type":"string"},"updated_at":{"default":"now()","format":"timestamp with time zone","type":"string"}},"type":"object"},"revenuecat_event_processing":{"required":["environment","idempotency_key","status","attempts","updated_at","created_at"],"properties":{"environment":{"description":"Note:\nThis is a Primary Key.<pk/>","format":"text","type":"string"},"idempotency_key":{"description":"Note:\nThis is a Primary Key.<pk/>","format":"text","type":"string"},"status":{"default":"processing","enum":["processing","succeeded","failed"],"format":"public.revenuecat_processing_status","type":"string"},"attempts":{"default":0,"format":"integer","type":"integer"},"last_error":{"format":"text","type":"string"},"updated_at":{"default":"now()","format":"timestamp with time zone","type":"string"},"created_at":{"default":"now()","format":"timestamp with time zone","type":"string"}},"type":"object"}},"parameters":{"preferParams":{"name":"Prefer","description":"Preference","required":false,"enum":[],"in":"header","type":"string"},"preferReturn":{"name":"Prefer","description":"Preference","required":false,"enum":["return=representation","return=minimal","return=none"],"in":"header","type":"string"},"preferCount":{"name":"Prefer","description":"Preference","required":false,"enum":["count=none"],"in":"header","type":"string"},"preferPost":{"name":"Prefer","description":"Preference","required":false,"enum":["return=representation","return=minimal","return=none","resolution=ignore-duplicates","resolution=merge-duplicates"],"in":"header","type":"string"},"select":{"name":"select","description":"Filtering Columns","required":false,"in":"query","type":"string"},"on_conflict":{"name":"on_conflict","description":"On Conflict","required":false,"in":"query","type":"string"},"order":{"name":"order","description":"Ordering","required":false,"in":"query","type":"string"},"range":{"name":"Range","description":"Limiting and Pagination","required":false,"in":"header","type":"string"},"rangeUnit":{"name":"Range-Unit","description":"Limiting and Pagination","required":false,"default":"items","in":"header","type":"string"},"offset":{"name":"offset","description":"Limiting and Pagination","required":false,"in":"query","type":"string"},"limit":{"name":"limit","description":"Limiting and Pagination","required":false,"in":"query","type":"string"},"body.notification_sends":{"name":"notification_sends","description":"notification_sends","required":false,"in":"body","schema":{"$ref":"#/definitions/notification_sends"}},"rowFilter.notification_sends.id":{"name":"id","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.user_id":{"name":"user_id","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.local_date":{"name":"local_date","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.job_run_id":{"name":"job_run_id","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.status":{"name":"status","description":"Notification send state: reserved | sent | failed","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.error":{"name":"error","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.reserved_at":{"name":"reserved_at","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.sent_at":{"name":"sent_at","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.failed_at":{"name":"failed_at","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.created_at":{"name":"created_at","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.updated_at":{"name":"updated_at","required":false,"in":"query","type":"string"},"rowFilter.notification_sends.token_id":{"name":"token_id","required":false,"in":"query","type":"string"},"body.share_events":{"name":"share_events","description":"share_events","required":false,"in":"body","schema":{"$ref":"#/definitions/share_events"}},"rowFilter.share_events.id":{"name":"id","required":false,"in":"query","type":"string"},"rowFilter.share_events.created_at":{"name":"created_at","required":false,"in":"query","type":"string"},"rowFilter.share_events.user_id":{"name":"user_id","required":false,"in":"query","type":"string"},"rowFilter.share_events.home_id":{"name":"home_id","required":false,"in":"query","type":"string"},"rowFilter.share_events.feature":{"name":"feature","required":false,"in":"query","type":"string"},"rowFilter.share_events.channel":{"name":"channel","required":false,"in":"query","type":"string"},"body.profiles":{"name":"profiles","description":"profiles","required":false,"in":"body","schema":{"$ref":"#/definitions/profiles"}},"rowFilter.profiles.id":{"name":"id","description":"Primary key = auth.users.id..","required":false,"in":"query","type":"string"},"rowFilter.profiles.email":{"name":"email","description":"Optional user email address mirrored from auth.users.email. May be NULL for privacy or deleted accounts. Remains UNIQUE when present.","required":false,"in":"query","type":"string"},"rowFilter.profiles.full_name":{"name":"full_name","description":"Optional display name.","required":false,"in":"query","type":"string"},"rowFilter.profiles.avatar_id":{"name":"avatar_id","description":"FK to public.avatars.id (required avatar).","required":false,"in":"query","type":"string"},"rowFilter.profiles.created_at":{"name":"created_at","description":"Profile creation timestamp (UTC).","required":false,"in":"query","type":"string"},"rowFilter.profiles.deactivated_at":{"name":"deactivated_at","description":"Timestamp when the user deactivated or left the app. NULL = currently active. Used for soft-deletion and retention tracking.","required":false,"in":"query","type":"string"},"rowFilter.profiles.username":{"name":"username","description":"Case-insensitive unique handle for user identification and @mentions. Must be 330 chars long, start/end with a letter or number, and may contain dots or underscores in between. Used for tagging (e.g., @username) and public display names.","required":false,"in":"query","type":"string"},"rowFilter.profiles.updated_at":{"name":"updated_at","description":"Profile updated timestamp (UTC).","required":false,"in":"query","type":"string"},"body.preference_taxonomy_active_defs":{"name":"preference_taxonomy_active_defs","description":"preference_taxonomy_active_defs","required":false,"in":"body","schema":{"$ref":"#/definitions/preference_taxonomy_active_defs"}},"rowFilter.preference_taxonomy_active_defs.preference_id":{"name":"preference_id","required":false,"in":"query","type":"string"},"rowFilter.preference_taxonomy_active_defs.domain":{"name":"domain","required":false,"in":"query","type":"string"},"rowFilter.preference_taxonomy_active_defs.label":{"name":"label","required":false,"in":"query","type":"string"},"rowFilter.preference_taxonomy_active_defs.description":{"name":"description","required":false,"in":"query","type":"string"},"rowFilter.preference_taxonomy_active_defs.value_keys":{"name":"value_keys","required":false,"in":"query","type":"string"},"rowFilter.preference_taxonomy_active_defs.aggregation":{"name":"aggregation","required":false,"in":"query","type":"string"},"rowFilter.preference_taxonomy_active_defs.safety_notes":{"name":"safety_notes","required":false,"in":"query","type":"string"},"body.notification_preferences":{"name":"notification_preferences","description":"notification_preferences","required":false,"in":"body","schema":{"$ref":"#/definitions/notification_preferences"}},"rowFilter.notification_preferences.user_id":{"name":"user_id","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.wants_daily":{"name":"wants_daily","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.preferred_hour":{"name":"preferred_hour","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.timezone":{"name":"timezone","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.locale":{"name":"locale","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.os_permission":{"name":"os_permission","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.last_os_sync_at":{"name":"last_os_sync_at","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.last_sent_local_date":{"name":"last_sent_local_date","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.created_at":{"name":"created_at","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.updated_at":{"name":"updated_at","required":false,"in":"query","type":"string"},"rowFilter.notification_preferences.preferred_minute":{"name":"preferred_minute","required":false,"in":"query","type":"string"},"body.avatars":{"name":"avatars","description":"avatars","required":false,"in":"body","schema":{"$ref":"#/definitions/avatars"}},"rowFilter.avatars.id":{"name":"id","required":false,"in":"query","type":"string"},"rowFilter.avatars.storage_path":{"name":"storage_path","description":"Storage bucket/path or object key.","required":false,"in":"query","type":"string"},"rowFilter.avatars.category":{"name":"category","description":"Logical grouping, e.g., \"animal\" (starter pack), \"plant\", etc.","required":false,"in":"query","type":"string"},"rowFilter.avatars.created_at":{"name":"created_at","description":"Creation timestamp (UTC).","required":false,"in":"query","type":"string"},"rowFilter.avatars.name":{"name":"name","description":"Human-readable name describing what this avatar is about.","required":false,"in":"query","type":"string"},"body.device_tokens":{"name":"device_tokens","description":"device_tokens","required":false,"in":"body","schema":{"$ref":"#/definitions/device_tokens"}},"rowFilter.device_tokens.id":{"name":"id","required":false,"in":"query","type":"string"},"rowFilter.device_tokens.user_id":{"name":"user_id","required":false,"in":"query","type":"string"},"rowFilter.device_tokens.token":{"name":"token","required":false,"in":"query","type":"string"},"rowFilter.device_tokens.provider":{"name":"provider","required":false,"in":"query","type":"string"},"rowFilter.device_tokens.platform":{"name":"platform","required":false,"in":"query","type":"string"},"rowFilter.device_tokens.status":{"name":"status","required":false,"in":"query","type":"string"},"rowFilter.device_tokens.last_seen_at":{"name":"last_seen_at","required":false,"in":"query","type":"string"},"rowFilter.device_tokens.created_at":{"name":"created_at","required":false,"in":"query","type":"string"},"rowFilter.device_tokens.updated_at":{"name":"updated_at","required":false,"in":"query","type":"string"},"body.revenuecat_event_processing":{"name":"revenuecat_event_processing","description":"revenuecat_event_processing","required":false,"in":"body","schema":{"$ref":"#/definitions/revenuecat_event_processing"}},"rowFilter.revenuecat_event_processing.environment":{"name":"environment","required":false,"in":"query","type":"string"},"rowFilter.revenuecat_event_processing.idempotency_key":{"name":"idempotency_key","required":false,"in":"query","type":"string"},"rowFilter.revenuecat_event_processing.status":{"name":"status","required":false,"in":"query","type":"string"},"rowFilter.revenuecat_event_processing.attempts":{"name":"attempts","required":false,"in":"query","type":"string"},"rowFilter.revenuecat_event_processing.last_error":{"name":"last_error","required":false,"in":"query","type":"string"},"rowFilter.revenuecat_event_processing.updated_at":{"name":"updated_at","required":false,"in":"query","type":"string"},"rowFilter.revenuecat_event_processing.created_at":{"name":"created_at","required":false,"in":"query","type":"string"}},"externalDocs":{"description":"PostgREST Documentation","url":"https://postgrest.org/en/v13/references/api.html"}}